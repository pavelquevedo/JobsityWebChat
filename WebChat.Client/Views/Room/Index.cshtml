@model IEnumerable<WebChat.Utils.Common.Models.Response.RoomResponse>

@{
    ViewBag.Title = "Lobby";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string error = (string)ViewBag.error;
}

<h2>Available chatrooms</h2>

<div class="row" style="margin-top:30px;">
    <div class="col-md-12">
        @foreach (var room in Model)
        {
            <div class="form-group">
                <a href="#" onclick="goToRoom(@room.Id)"><h4><b>@room.Name</b></h4></a>
                @room.Description <br />
            </div>
        }
    </div>

    <div class="text-danger">@error</div>
</div>

<script type="text/javascript">
    //Function to enter into a room
    function goToRoom(idRoom) {
        document.location.href = "@Url.Content("~/Chat/Messages/")" + "?roomId=" + idRoom;
    }
</script>